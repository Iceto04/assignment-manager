@using AssignmentManager.Data
@model AssignmentManager.Data.Models.Assignment

@{
    ViewData["Title"] = "New Assignment";
}
<link rel="stylesheet" href="/css/assignments/create.css" />

<script>
    const scheduleTab = document.getElementsByClassName("nav_list__li--schedule")[0];
    const classesTab = document.getElementsByClassName("nav_list__li--classes")[0];

    scheduleTab.classList.add("nav_list__li--active");
</script>

<h1 class="main_title">NEW ASSIGNMENT</h1>

<form asp-action="Create" class="create_assignment">
    <div class="create_assignment__name">
        <label class="form_label" asp-for="Name">Assignment Title</label>
        <input class="form_input" asp-for="Name" placeholder="Title" />
    </div>

    <div class="create_assignment__description create_assignment__description--desktop">
        <label class="form_label" asp-for="Description">Description</label>
        <textarea asp-for="Description" placeholder="Description (optional)"></textarea>
    </div>

    <div class="create_assignment__due_date">
        <label class="form_label" asp-for="DueDate">Due Date</label>
        <input class="form_input" type="date" asp-for="DueDate" placeholder="Title" />
    </div>

    <div class="create_assignment__class">
        <label class="form_label" asp-for="ClassId">Class</label>
        <select class="form_input" asp-for="ClassId">
        @{
            var db = new AssignmentManagerDbContext();
            var classes = db.Classes.Select(x => new
            {
                x.Id,
                x.Name
            })
            .OrderBy(x => x.Id)
            .ToList();

            for (var i = 0; i < classes.Count; i++)
            {
                <option value="@classes[i].Id">@classes[i].Name</option>
            }
        }
        </select>
    </div>

    <div class="create_assignment__description create_assignment__description--mobile">
        <label class="form_label" asp-for="Description">Description</label>
        <textarea asp-for="Description" placeholder="Description (optional)"></textarea>
    </div>

    <div>
        <button type="submit" class="save">
            <img src="/content/save.png" />
        </button>
    </div>
</form>